<!DOCTYPE html>
<html>
<head>
  <title id="header">Redirecting...</title>
</head>
<body>
  <script type="text/javascript">
    function ValidURL(str) {
    var pattern = new RegExp('^(https?:\\/\\/)?'+
    '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+
    '((\\d{1,3}\\.){3}\\d{1,3}))'+ 
    '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+ 
    '(\\?[;&a-z\\d%_.~+=-]*)?'+ 
    '(\\#[-a-z\d_]*)?$','i'); 
    if(!pattern.test(str)) {
      return false;
    } else {
      return true;
    }
    }
    function GetURLParameter(sParam)
    {
    var sPageURL = window.location.search.substring(1);
    var sURLVariables = sPageURL.split('&');
    for (var i = 0; i < sURLVariables.length; i++) 
    {
        var sParameterName = sURLVariables[i].split('=');
        if (sParameterName[0] == sParam) 
        {
            return sParameterName[1];
        }
    }
    }
    var link = GetURLParameter('link');
    if(link != undefined) {
      if(ValidURL(link)){
      window.location.replace(link);
      } else {
        document.body.innerHTML += "<p>Error: Invalid URL</p>";
        document.getElementById("header").innerHTML = "Error";
      }
    } else {
      document.body.innerHTML += "<p>Error: No URL</p>";
      document.getElementById("header").innerHTML = "Error";
    }
  </script>
</body>
</html>
